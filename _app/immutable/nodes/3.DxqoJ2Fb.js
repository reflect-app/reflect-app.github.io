import"../chunks/DsnmJJEf.js";import"../chunks/D9IdMvzg.js";import{c as rt,o as V,e as v,h as it,s as q}from"../chunks/Do-psofM.js";import{p as z,W as n,a4 as b,g as t,o as H,v as e,x as r,a5 as lt,w as s,m as _,q as J,a6 as ct,t as G,k as dt,l as vt}from"../chunks/-7_rC7ri.js";import{p as ft,b as ut,i as P}from"../chunks/QEbw1GTl.js";import{i as Q}from"../chunks/CIDHElLB.js";import{r as pt,b as ht,d as mt,p as bt,M as kt,a as gt}from"../chunks/DjiD5ACY.js";var wt=H(`<div class="popup-backdrop svelte-1ddftfc" role="dialog" aria-modal="true" aria-labelledby="toc-title" tabindex="-1"><div class="popup-content svelte-1ddftfc"><div class="popup-header svelte-1ddftfc"><h2 id="toc-title" class="svelte-1ddftfc">Terms and Conditions</h2></div> <div class="popup-body svelte-1ddftfc"><div class="simple-content svelte-1ddftfc"><p class="svelte-1ddftfc"><strong class="svelte-1ddftfc">Welcome! Here's everything you need to know to use our service safely:</strong></p> <ol class="svelte-1ddftfc"><li class="svelte-1ddftfc"><strong class="svelte-1ddftfc">Your Privacy is Protected:</strong> We don't store any of your content on our servers. Everything stays in your browser and is encoded in the link itself. Only the person who creates the link is responsible for what's shared.</li> <li class="svelte-1ddftfc"><strong class="svelte-1ddftfc">We Can't See Your Content:</strong> Since we don't store anything, we have no way to know what content is being shared through our service. This means we can't be held responsible for what users choose to share.</li> <li class="svelte-1ddftfc"><strong class="svelte-1ddftfc">No Search Indexing:</strong> We don't index or catalog any links. However, our hosting provider (GitHub) may keep standard server logs for their own technical purposes.</li> <li class="svelte-1ddftfc"><strong class="svelte-1ddftfc">Free Service:</strong> This is a free tool provided as-is. While we try our best, we can't guarantee it will always work perfectly or be available 24/7.</li> <li class="svelte-1ddftfc"><strong class="svelte-1ddftfc">Standard Legal Protection:</strong> Like most websites, we need to protect ourselves from legal issues related to user-generated content. Since users control what gets shared, any legal responsibility stays with the person sharing the content, not with us.</li></ol> <p class="svelte-1ddftfc"><em>These are standard terms to help us provide this free service safely. By continuing, you're agreeing to these simple rules.</em></p> <div class="attribution svelte-1ddftfc"><p class="svelte-1ddftfc">This is a free service brought to you by <a href="https://ishafayet.me" target="_blank" rel="noopener noreferrer" class="svelte-1ddftfc">Sayem Shafayet</a>, a FOSS enthusiast.</p></div></div></div> <div class="popup-checkbox svelte-1ddftfc"><label class="checkbox-label svelte-1ddftfc"><input type="checkbox" class="checkbox-input svelte-1ddftfc"/> <span class="checkbox-text svelte-1ddftfc">Do not show again for this link</span></label></div> <div class="popup-footer svelte-1ddftfc"><button class="got-it-btn svelte-1ddftfc" type="button">I Understand</button></div></div></div>`);function yt(i,l){z(l,!1);let c=ft(l,"linkHash",8);const p=rt();let f=b(),g=b(!1);V(()=>{localStorage.getItem(`toc_hidden_${c()}`)==="true"&&n(g,!0),t(f)&&t(f).focus()});function k(){p("close")}function w(a){a.key==="Escape"&&(a.preventDefault(),a.stopPropagation())}function T(){t(g)?localStorage.setItem(`toc_hidden_${c()}`,"true"):localStorage.removeItem(`toc_hidden_${c()}`)}Q();var u=wt(),A=e(u),R=r(e(A),4),C=e(R),S=e(C);pt(S),lt(2),s(C),s(R);var E=r(R,2),F=e(E);s(E),s(A),s(u),ut(u,a=>n(f,a),()=>t(f)),ht(S,()=>t(g),a=>n(g,a)),v("change",S,T),v("click",F,()=>{k()}),v("click",u,a=>{a.target===a.currentTarget&&(a.preventDefault(),a.stopPropagation())}),v("keydown",u,w),_(i,u),J()}async function _t(i){try{const l=new TextEncoder,c=typeof i=="string"?l.encode(i):i,p=await crypto.subtle.digest("SHA-256",c);return xt(p)}catch(l){throw console.error("SHA-256 hash generation failed:",l),new Error("Failed to generate SHA-256 hash")}}async function Ct(i,l=16){return(await _t(i)).substring(0,l)}async function St(i){return await Ct(i,12)}function xt(i){const l=new Uint8Array(i);return Array.from(l).map(c=>c.toString(16).padStart(2,"0")).join("")}var Ht=H('<div class="error-section svelte-1nm4t0k"><div class="logo-container svelte-1nm4t0k"><img src="/logo.png" alt="Reflect Logo" class="logo svelte-1nm4t0k"/> <h1 class="svelte-1nm4t0k">Reflect</h1></div> <div class="error-icon svelte-1nm4t0k">‚ö†Ô∏è</div> <h2 class="svelte-1nm4t0k">Error</h2> <p class="svelte-1nm4t0k"> </p> <div class="error-actions svelte-1nm4t0k"><button class="btn btn-secondary svelte-1nm4t0k">TOC</button> <button class="btn btn-primary svelte-1nm4t0k">Create New</button></div></div>'),Tt=H('<div class="content-section svelte-1nm4t0k"><div class="content-header svelte-1nm4t0k"><div class="logo-container svelte-1nm4t0k"><img src="/logo.png" alt="Reflect Logo" class="logo svelte-1nm4t0k"/> <h1 class="svelte-1nm4t0k">Reflect</h1></div> <div class="actions desktop-actions svelte-1nm4t0k"><button class="btn btn-secondary svelte-1nm4t0k">TOC</button> <button class="btn btn-primary svelte-1nm4t0k">Create New</button></div></div> <div class="markdown-content svelte-1nm4t0k"><!></div> <div class="mobile-actions svelte-1nm4t0k"><button class="btn btn-secondary svelte-1nm4t0k">TOC</button> <button class="btn btn-primary svelte-1nm4t0k">Create New</button></div> <div class="raw-section svelte-1nm4t0k"><details class="svelte-1nm4t0k"><summary class="svelte-1nm4t0k">View Raw Markdown</summary> <div class="raw-content-container svelte-1nm4t0k"><div class="raw-actions svelte-1nm4t0k"><button class="btn btn-secondary btn-small svelte-1nm4t0k">üìã Copy to Clipboard</button> <button class="btn btn-primary btn-small svelte-1nm4t0k">üîÄ Fork</button></div> <pre class="raw-content svelte-1nm4t0k"> </pre></div></details></div></div>'),Rt=H('<div class="loading-section svelte-1nm4t0k"><div class="loading-spinner svelte-1nm4t0k"></div> <p class="svelte-1nm4t0k">Loading content...</p></div>'),At=H('<div class="copy-notification svelte-1nm4t0k">‚úÖ Content copied to clipboard!</div>'),Et=H('<main class="container svelte-1nm4t0k"><!> <!> <!></main>');function Wt(i,l){z(l,!1);let c=b(""),p=b(""),f=b(""),g=b([]),k=b(!1),w=b(""),T=b(!1);V(async()=>{const d=window.location.hash.substring(1).split("/");if(d.length<3||d[1]!=="view"){n(f,"Invalid URL format. Expected: /#/view/encodedContent");return}const h=d[2];if(!h){n(f,"No markdown content found in the URL.");return}try{n(p,mt(h)),n(c,t(p)),n(g,bt(t(c))),n(w,await St(h)),localStorage.getItem(`toc_hidden_${t(w)}`)||n(k,!0)}catch(x){n(f,"Failed to decode the markdown content. The link may be invalid."),console.error("Decoding error:",x)}});function u(){window.location.href="/"}function A(){navigator.clipboard.writeText(t(p)).then(()=>{n(T,!0),setTimeout(()=>{n(T,!1)},2e3)}).catch(o=>{console.error("Failed to copy content:",o)})}function R(){gt.set(t(p)),window.location.href="/"}Q();var C=Et();it(o=>{ct.title="Reflect - Shared Content"});var S=e(C);{var E=o=>{var d=Ht(),h=r(e(d),6),x=e(h,!0);s(h);var L=r(h,2),m=e(L),y=r(m,2);s(L),s(d),G(()=>q(x,t(f))),v("click",m,()=>{n(w,"error"),n(k,!0)}),v("click",y,u),_(o,d)},F=o=>{var d=dt(),h=vt(d);{var x=m=>{var y=Tt(),I=e(y),W=r(e(I),2),D=e(W),et=r(D,2);s(W),s(I);var N=r(I,2),st=e(N);kt(st,{get tokens(){return t(g)}}),s(N);var O=r(N,2),B=e(O),ot=r(B,2);s(O);var U=r(O,2),$=e(U),K=r(e($),2),M=e(K),Y=e(M),nt=r(Y,2);s(M);var j=r(M,2),at=e(j,!0);s(j),s(K),s($),s(U),s(y),G(()=>q(at,t(p))),v("click",D,()=>{n(k,!0)}),v("click",et,u),v("click",B,()=>{n(k,!0)}),v("click",ot,u),v("click",Y,A),v("click",nt,R),_(m,y)},L=m=>{var y=Rt();_(m,y)};P(h,m=>{t(c)?m(x):m(L,!1)},!0)}_(o,d)};P(S,o=>{t(f)?o(E):o(F,!1)})}var a=r(S,2);{var X=o=>{yt(o,{get linkHash(){return t(w)},$$events:{close:()=>n(k,!1)}})};P(a,o=>{t(k)&&t(w)&&o(X)})}var Z=r(a,2);{var tt=o=>{var d=At();_(o,d)};P(Z,o=>{t(T)&&o(tt)})}s(C),_(i,C),J()}export{Wt as component};
