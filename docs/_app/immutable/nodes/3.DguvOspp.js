import"../chunks/DsnmJJEf.js";import"../chunks/CMD5oM-c.js";import{o as G,h as J,s as F,e as f}from"../chunks/D2AKt8km.js";import{p as Q,i as x,j as u,k as W,$ as X,s as e,m as k,g as r,l as s,n as a,o,t as I,q as Y,v as Z}from"../chunks/COzCTme7.js";import{i as T}from"../chunks/CWokA5uW.js";import{i as ee}from"../chunks/CreQ_d7O.js";import{d as te,p as se,M as ae}from"../chunks/BHptwQoy.js";import{l as oe,T as re}from"../chunks/BwkVj1lX.js";var ne=x('<div class="error-section svelte-fkf20x"><div class="error-icon svelte-fkf20x">⚠️</div> <h2 class="svelte-fkf20x">Error</h2> <p class="svelte-fkf20x"> </p> <div class="error-actions svelte-fkf20x"><button class="btn btn-secondary svelte-fkf20x">TOC</button> <button class="btn btn-primary svelte-fkf20x">Create New</button></div></div>'),ie=x('<div class="content-section svelte-fkf20x"><div class="content-header svelte-fkf20x"><h2 class="svelte-fkf20x">Rendered Markdown</h2> <div class="actions desktop-actions svelte-fkf20x"><button class="btn btn-secondary svelte-fkf20x">TOC</button> <button class="btn btn-primary svelte-fkf20x">Create New</button></div></div> <div class="markdown-content svelte-fkf20x"><!></div> <div class="mobile-actions svelte-fkf20x"><button class="btn btn-secondary svelte-fkf20x">TOC</button> <button class="btn btn-primary svelte-fkf20x">Create New</button></div> <div class="raw-section svelte-fkf20x"><details class="svelte-fkf20x"><summary class="svelte-fkf20x">View Raw Markdown</summary> <pre class="raw-content svelte-fkf20x"> </pre></details></div></div>'),le=x('<div class="loading-section svelte-fkf20x"><div class="loading-spinner svelte-fkf20x"></div> <p class="svelte-fkf20x">Loading content...</p></div>'),ve=x('<main class="container svelte-fkf20x"><div class="header svelte-fkf20x"><div class="logo-container svelte-fkf20x"><img src="/logo.png" alt="Reflect Logo" class="logo svelte-fkf20x"/> <h1 class="svelte-fkf20x">Reflect</h1></div> <p class="svelte-fkf20x">Shared markdown content</p></div> <!> <!></main>');function xe(P,U){Q(U,!1);let h=k(""),_=k(""),m=k(""),M=k([]),c=k(!1),p=k("");G(async()=>{const n=window.location.hash.substring(1).split("/");if(n.length<3||n[1]!=="view"){e(m,"Invalid URL format. Expected: /#/view/encodedContent");return}const i=n[2];if(!i){e(m,"No markdown content found in the URL.");return}try{e(_,te(i)),e(h,r(_)),e(M,se(r(h))),e(p,await oe(i)),localStorage.getItem(`toc_hidden_${r(p)}`)||e(c,!0)}catch(d){e(m,"Failed to decode the markdown content. The link may be invalid."),console.error("Decoding error:",d)}});function w(){window.location.href="/"}ee();var g=ve();J(t=>{X.title="Reflect - Shared Content"});var H=s(a(g),2);{var j=t=>{var n=ne(),i=s(a(n),4),d=a(i,!0);o(i);var b=s(i,2),l=a(b),v=s(l,2);o(b),o(n),I(()=>F(d,r(m))),f("click",l,()=>{e(p,"error"),e(c,!0)}),f("click",v,w),u(t,n)},q=t=>{var n=Y(),i=Z(n);{var d=l=>{var v=ie(),C=a(v),L=s(a(C),2),N=a(L),K=s(N,2);o(L),o(C);var y=s(C,2),V=a(y);ae(V,{get tokens(){return r(M)}}),o(y);var R=s(y,2),O=a(R),z=s(O,2);o(R);var S=s(R,2),$=a(S),E=s(a($),2),B=a(E,!0);o(E),o($),o(S),o(v),I(()=>F(B,r(_))),f("click",N,()=>{e(c,!0)}),f("click",K,w),f("click",O,()=>{e(c,!0)}),f("click",z,w),u(l,v)},b=l=>{var v=le();u(l,v)};T(i,l=>{r(h)?l(d):l(b,!1)},!0)}u(t,n)};T(H,t=>{r(m)?t(j):t(q,!1)})}var A=s(H,2);{var D=t=>{re(t,{get linkHash(){return r(p)},$$events:{close:()=>e(c,!1)}})};T(A,t=>{r(c)&&r(p)&&t(D)})}o(g),u(P,g),W()}export{xe as component};
